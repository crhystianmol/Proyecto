<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">


<h:head>
    <title>Items</title>
    <link rel="stylesheet" href="calStyle.css"></link>
</h:head>

<h:body>
    <h:form>
        #{userBean.isNotLogin()}
        <p:commandButton icon="pi pi-home" value="Volver" action="#{actionBean.menu()}" update="@form"/>
        <br/> <br/>
            <div class="Categorias">
                <p:dataTable var="categoria" value="#{categoriaBean.getCategorias()}">

                    <p:column headerText="Nombre">
                        <p:outputLabel value="#{categoria.getName()}" />
                    </p:column>

                    <p:column headerText="Descripcion">
                        <p:outputLabel value="#{categoria.getDescription()}" />
                    </p:column>

                    <p:column headerText="Fecha de creacion">
                        <p:outputLabel value="#{categoria.getDateI()}" />
                    </p:column>

                    <p:column headerText="Estado">
                        <p:outputLabel value="#{categoria.getStatus()}" />
                    </p:column>
                    <p:column headerText="Fecha de modificacion">
                        <p:outputLabel value="#{categoria.getDateM()}" />
                    </p:column>
                    <p:column headerText="Editar">
                        <p:commandButton value="Seleccionar" action="#{categoriaBean.seleccion(categoria)}" update="@form" />
                    </p:column>
                </p:dataTable>
            </div>
        <p:dialog header="Actualizar Categoria" widgetVar="dlg2"  minHeight="40" width="350" showEffect="fade" modal="true">
            <p class="p-m-0">#{"Nombre"}
                <p:inputText name="Nombre" value="#{categoriaBean.nombre}"/>
                <br/> <br/>
                #{"Estado"}
                <p:outputLabel for="@next" value="Basic"/>
                <p:selectOneMenu id="option" value="#{categoriaBean.selectedOption}">
                    <f:selectItem itemLabel="Select One" itemValue=""/>
                    <f:selectItem itemLabel="Activo" itemValue="Activo"/>
                    <f:selectItem itemLabel="Inactivo" itemValue="Inactivo"/>
                    <f:facet name="footer">
                        <p:divider styleClass="p-mt-0" />
                        <h:outputText value="2 options" style="font-weight:bold;"/>
                    </f:facet>
                </p:selectOneMenu>
                <br/> <br/>
                #{"Descripcion"}
                <p:inputTextarea name="Descripcion" cols="40" rows="5" value="#{categoriaBean.descripcion}"/>
                <br/> <br/>
                <p:commandButton value="Actualizar" action="#{categoriaBean.update()}" update="@form"/>
                <br/> <br/>
            </p>
        </p:dialog>

        <p:dialog header="Notificacion" widgetVar="dlg3" minHeight="40" width="350" showEffect="fade" modal="true">
        <p class="p-m-0">#{categoriaBean.getMensajeUpdate()}
        </p>
        </p:dialog>

    </h:form>
</h:body>
</html>
